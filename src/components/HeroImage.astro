---
import { Picture, LocalImageProps } from "astro:assets";

type Props = {
	src: LocalImageProps["src"];
	alt: LocalImageProps["alt"];
	widths?: LocalImageProps["widths"];
	loading?: LocalImageProps["loading"];
	children?: unknown;
};

const {
	children,
	loading = "eager",
	widths = [640],
	...imageProps
} = Astro.props as Props;
---

<figure class="mb-8">
	<Picture widths={widths} loading={loading} {...imageProps} />
	<figcaption class="empty:hidden text-xs text-center mt-1">
		<slot />
	</figcaption>
</figure>
