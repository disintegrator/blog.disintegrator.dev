---
import type { CollectionEntry } from "astro:content";

import H1 from "../components/H1.astro";
import H2 from "../components/H2.astro";
import Link from "../components/Link.astro";
import UL from "../components/UL.astro";
import BlockQuote from "../components/BlockQuote.astro";
import P from "../components/P.astro";
import HeroImage from "../components/HeroImage.astro";
import Layout, { Props as LayoutProps } from "./Layout.astro";
import Tip from "../components/Tip.astro";
import H3 from "../components/H3.astro";

export interface Props extends Omit<LayoutProps, "title" | "description"> {
	entry: CollectionEntry<"posts">;
}

const { entry, ...rest } = Astro.props as Props;
const { Content } = await entry.render();
---

<Layout {...rest} title={entry.data.title} description={entry.data.summary}>
	<article class="max-w-2xl p-6">
		<H1>{entry.data.title}</H1>
		<Content
			components={{
				blockquote: BlockQuote,
				p: P,
				h2: H2,
				h3: H3,
				a: Link,
				ul: UL,
				HeroImage,
				Image,
				Link,
				Tip,
			}}
		/>
	</article>
</Layout>
